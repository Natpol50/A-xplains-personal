document.addEventListener('DOMContentLoaded',()=>{const n=document.querySelectorAll('.navigation .btn-primary'),s=document.querySelectorAll('.section');n.forEach(e=>{e.addEventListener('click',()=>{const t=e.dataset.section;n.forEach(e=>e.classList.remove('active'));e.classList.add('active');s.forEach(e=>e.classList.remove('active'));document.getElementById(t).classList.add('active');window.scrollTo({top:0,behavior:'smooth'})})})});function copyCode(e){const t=e.parentElement.querySelector('code').textContent;navigator.clipboard.writeText(t).then(()=>{const t=e.querySelector('span').textContent;e.querySelector('span').textContent='Copi√© !';e.style.background='#10b981';setTimeout(()=>{e.querySelector('span').textContent=t;e.style.background=''},2000)}).catch(e=>console.error('Erreur:',e))}function simulateInjection(){const e=document.getElementById('userInput').value,t=document.getElementById('simulationResult'),n=[';','|','&','>','<','`','(',')','[',']','\\','\n'].filter(t=>e.includes(t)),s=`/bin/mail ${e}`,c=/[;|&]/,o=s.split(c).map(e=>e.trim()).filter(e=>e.length>0);let r='<div class="result';if(n.length>0){r+='">';r+='<h3 style="color:#ef4444;margin-bottom:1rem;">üö® INJECTION D√âTECT√âE !</h3>';r+=`<p><strong>Commande:</strong></p><pre style="background:#1a1a2e;padding:1rem;margin:1rem 0;border-left:4px solid #ef4444;">${escapeHtml(s)}</pre>`;r+=`<p><strong>${o.length} commande(s):</strong></p>`;o.forEach((e,t)=>{r+=`<pre style="background:#1a1a2e;padding:.75rem;margin:.5rem 0;border-left:4px solid #f59e0b;">Cmd ${t+1}: ${escapeHtml(e)}</pre>`});r+=`<p><strong>Caract√®res dangereux:</strong> ${n.map(e=>`<code style="background:#ef4444;padding:.2rem .5rem;color:#fff;">${escapeHtml(e)}</code>`).join(', ')}</p>`;r+='<h3 style="color:#ef4444;margin-top:1.5rem;">Risques:</h3><ul>';if(e.includes('rm'))r+='<li><strong>DESTRUCTION</strong> - rm d√©tect√©</li>';if(e.includes('/etc/'))r+='<li><strong>VOL DE DONN√âES</strong> - Acc√®s fichiers syst√®me</li>';if(e.includes('/bin/sh')||e.includes('/bin/bash'))r+='<li><strong>SHELL INTERACTIF</strong> - Acc√®s root</li>';if(e.includes('curl')||e.includes('wget'))r+='<li><strong>EXFILTRATION</strong> - Communication externe</li>';r+='</ul>'}else{r+=' safe">';r+='<h3 style="color:#10b981;margin-bottom:1rem;">‚úÖ Input Normal</h3>';r+=`<pre style="background:#1a1a2e;padding:1rem;border-left:4px solid #10b981;">${escapeHtml(s)}</pre>`;r+='<p>Aucun caract√®re dangereux, mais <strong>valider avec liste blanche!</strong></p>'}r+='</div>';t.innerHTML=r}function testExample(e){document.getElementById('userInput').value=e;simulateInjection();document.getElementById('simulationResult').scrollIntoView({behavior:'smooth',block:'nearest'})}function escapeHtml(e){const t=document.createElement('div');t.textContent=e;return t.innerHTML}
